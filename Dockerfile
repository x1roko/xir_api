# Используем официальный образ Golang
FROM golang:1.23.4-alpine

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем файлы проекта в рабочую директорию
COPY . .

# Устанавливаем зависимости
RUN go mod tidy
RUN go mod vendor

# Компилируем приложение
RUN go build -o main .

# Определяем команду для запуска приложения
CMD ["./main"]